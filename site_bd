create database site;
use site;
show tables;
show columns from artistas;
show columns from musicas;

create table musicas(
 id int primary key auto_increment,
 nome varchar(45),
 id_artistas int,
 foreign key(id_artista) references artistas(id)
);
 
create table artistas(
 id int primary key auto_increment,
 nome varchar(45)
);
 
 insert into artistas(nome)
 values('chinara');
 
 select* from artistas;
 select * from musicas;

 insert into musicas(nome)
 values ('nome');

import mysql.connector

mydb = mysql.connector.connect(
     host= "localhost",
     user= "dev",
     password= "ifce1234",
     database= "site"
)
mycursor = mydb.cursor()


def cadastrar():
    print('cadastrando')
    nome = input('Digite o nome')

    sql = "INSERT INTO artistas (nome) VALUES (%s)"
    valores = (nome, )
    mycursor.execute(sql, valores)
    mydb.commit()

def listar():
    print('listando')

    mycursor.execute("SELECT * FROM artistas")

    myresult = mycursor.fetchall()

    for x in myresult:
        print(x)

def update():
    nome = input('nome do artista que deseja alterar' )
    novo_nome = input('novo nome' )
    valores = (novo_nome, nome, )
    sql = "UPDATE artistas SET nome = %s WHERE nome = %s"

    mycursor.execute(sql, valores,)

    mydb.commit()

    print(mycursor.rowcount, "record(s) affected")

def delete():
    sql = "DELETE FROM artistas WHERE nome = 'nome'"

    mycursor.execute(sql)

    mydb.commit()

    print(mycursor.rowcount, "record(s) deleted")

def juntar_tabelas():
    sql= "SELECT \
        artistas.nome AS artista, \
        musicas.nome AS musica \
        FROM artistas \
        INNER JOIN musicas ON artistas.id_artista = artistas.nome"

    mycursor.execute(sql)

    myresult = mycursor.fetchall()

    for x in myresult:
        print(x)

while True:
        print('1.cadastrar artista')
        print('2.listar artista')
        print('3.atualizar')
        print('4.deletar')
        print('5.juntar_tabelas')
        print('6.sair')

        opcao=int(input('escolha a opcao '))
        if opcao == 1:
            cadastrar()
        elif opcao == 2:
            listar()
        elif opcao == 3:
            update()
        elif opcao == 4:
            delete()   
        elif opcao == 5:
            juntar_tabelas()
        else: 
            print('exit')
        break 
